<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Compute the incidence of events — incidence • incidence2</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Compute the incidence of events — incidence" />
<meta property="og:description" content="Compute the incidence of events" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">incidence2</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.2.2</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li class="dropdown-header">Using the incidence package</li>
    <li>
      <a href="../articles/Introduction.html">Introduction</a>
    </li>
    <li>
      <a href="../articles/handling_incidence_objects.html">Handling incidence objects</a>
    </li>
    <li>
      <a href="../articles/customizing_incidence_plots.html">Customizing incidence plots</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/reconhub/incidence2">
    <span class="fas fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Compute the incidence of events</h1>
    <small class="dont-index">Source: <a href='https://github.com/reconhub/incidence2/blob/master/R/incidence.R'><code>R/incidence.R</code></a></small>
    <div class="hidden name"><code>incidence.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Compute the incidence of events</p>
    </div>

    <pre class="usage"><span class='fu'>incidence</span><span class='op'>(</span>
  <span class='va'>x</span>,
  <span class='va'>date_index</span>,
  groups <span class='op'>=</span> <span class='cn'>NULL</span>,
  interval <span class='op'>=</span> <span class='fl'>1L</span>,
  na_as_group <span class='op'>=</span> <span class='cn'>TRUE</span>,
  count <span class='op'>=</span> <span class='cn'>NULL</span>,
  firstdate <span class='op'>=</span> <span class='cn'>NULL</span>
<span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>x</th>
      <td><p>A tibble or a data frame (see Note) representing a linelist.</p></td>
    </tr>
    <tr>
      <th>date_index</th>
      <td><p>The time index of the given data.  This should be a name
corresponding to a date column in x of class:  integer, numeric, Date,
POSIXct, POSIXlt, and character. (See Note  about <code>numeric</code> and <code>character</code>
formats).</p></td>
    </tr>
    <tr>
      <th>groups</th>
      <td><p>An optional vector giving the names of the groups of
observations for which incidence should be grouped.</p></td>
    </tr>
    <tr>
      <th>interval</th>
      <td><p>An integer or character indicating the (fixed) size of the
time interval used for computing the incidence; defaults to 1 day. This can
also be a text string that corresponds to a valid date interval, e.g.
* (x) day(s)
* (x) weeks(s)
* (x) epiweeks(s)
* (x) isoweeks(s)
* (x) months(s)
* (x) quarter(s)
* (x) years(s)
More details can be found in the "Interval specification" and "Week
intervals" sections below.</p></td>
    </tr>
    <tr>
      <th>na_as_group</th>
      <td><p>A logical value indicating if missing group values (NA)
should treated as a separate category (<code>TRUE</code>) or removed from
consideration (<code>FALSE</code>).</p></td>
    </tr>
    <tr>
      <th>count</th>
      <td><p>The count variable of the given data.  If NULL (default) the
data is taken to be a linelist of individual observations.</p></td>
    </tr>
    <tr>
      <th>firstdate</th>
      <td><p>When the interval is in days, or numeric, and also has a
numeric prefix greater than 1, then you can optionally specify the date
that you wish your intervals to begin from.  If NULL (default) then the
intervals will start at the minimum value contained in the date_index
column.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>An incidence2 object.  This is a subclass of tibble that represents
and aggregated count of observations grouped according to the specified
interval and, optionally, the given groups.  By default it will contain the
following columns:</p><ul>
<li><p><strong>date</strong> / <strong>date_index</strong>:  If the default interval of 1 day is used then
this will be the dates of the given observations and given the name
"date", otherwise, this will be values obtained from the specified date
grouping with column name "date_index" (See Interval specification below).</p></li>
<li><p><strong>-groups-</strong>: If specified, column(s) containing the categories of the
given groups.</p></li>
<li><p><strong>count</strong>: The aggregated observation count.</p></li>
</ul>

    <h2 class="hasAnchor" id="note"><a class="anchor" href="#note"></a>Note</h2>

    
<h3 class='hasAnchor' id='arguments'><a class='anchor' href='#arguments'></a>Input data (<code>date_index</code>)</h3>

<ul>
<li><p><strong>Decimal (numeric) dates</strong>: will be truncated.</p></li>
<li><p><strong>Character dates</strong> should be in the unambiguous <code>yyyy-mm-dd</code> (ISO 8601)
format. Any other format will trigger an error.</p></li>
</ul>


<h3 class='hasAnchor' id='arguments'><a class='anchor' href='#arguments'></a>Interval specification (<code>interval</code>)</h3>
<p><code>incidence2</code> includes generators for different grouped date s3 classes.
Which one the <code>incidence()</code> function uses depends on the value of
<code>interval</code>. This can be specified as either an integer value or a more
standard specification such as "day", "week", "month", "quarter" or "year".
The format in this situation is similar to that used by <code><a href='https://rdrr.io/r/base/seq.Date.html'>seq.Date()</a></code>
where these values can optionally be preceded by a (positive or negative)
integer and a space, or followed by "s".  When no prefix is given:</p><ul>
<li><p>"week"    : uses the "yrwk" class (see <code><a href='as_yrwk.html'>as_yrwk()</a></code>).</p></li>
<li><p>"month"   : uses the "yrmon" class (see <code><a href='as_yrmon.html'>as_yrmon()</a></code>).</p></li>
<li><p>"quarter" : uses the "yrqtr" class (see <code><a href='as_yrqtr.html'>as_yrqtr()</a></code>).</p></li>
<li><p>"year"    : uses the "yr" class (see <code><a href='as_yr.html'>as_yr()</a></code>).</p></li>
</ul>

<p>When a prefix is provided (e.g. 2 weeks) the output is an object of class
"period" (see <code><a href='as_period.html'>as_period()</a></code>).  Note that for the values "month",
"quarter" and "year" intervals are always chosen to start at the beginning
of the calendar equivalent.  If the input is an integer value the input is
treated as if it was specified in days (i.e. 2 and 2 days) produce the
same output.</p>
<p>The only interval values that do not produce these grouped classes are 1,
1L, "day" or "days" (both without prefix) are used.  In this situation the
returned object is of the standard "Date" class.</p>

<h3 class='hasAnchor' id='arguments'><a class='anchor' href='#arguments'></a>Week intervals</h3>


<p>It is possible to construct incidence objects standardized to any day of the
week. The default state is to use ISO 8601 definition of weeks, which start
on Monday. You can specify the day of the week an incidence object should
be standardised to by using the pattern "n W weeks" where "W"
represents the weekday in an English or current locale and "n" represents
the duration, but this can be ommitted.  Below are examples of specifying
weeks starting on different days assuming we had data that started on
2016-09-05, which is ISO week 36 of 2016:</p><ul>
<li><p>interval = "2 monday weeks" (Monday 2016-09-05)</p></li>
<li><p>interval = "1 tue week" (Tuesday 2016-08-30)</p></li>
<li><p>interval = "1 Wed week" (Wednesday 2016-08-31)</p></li>
<li><p>interval = "1 Thursday week" (Thursday 2016-09-01)</p></li>
<li><p>interval = "1 F week" (Friday 2016-09-02)</p></li>
<li><p>interval = "1 Saturday week" (Saturday 2016-09-03)</p></li>
<li><p>interval = "Sunday week" (Sunday 2016-09-04)</p></li>
</ul>

<p>It's also possible to use something like "3 weeks: Saturday"; In addition,
there are keywords reserved for specific days of the week:</p><ul>
<li><p>interval = "week", standard = TRUE (Default, Monday)</p></li>
<li><p>interval = "ISOweek"  (Monday)</p></li>
<li><p>interval = "EPIweek"  (Sunday)</p></li>
<li><p>interval = "MMWRweek" (Sunday)</p></li>
</ul>




  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Tim Taylor, Thibaut Jombart, Zhian N. Kamvar, Rich FitzJohn.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


